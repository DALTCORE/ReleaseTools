#!/usr/bin/env php
<?php

foreach ([__DIR__ . '/../../../autoload.php', __DIR__ . '/../vendor/autoload.php'] as $file) {
    if (file_exists($file)) {
        require $file;
        define('RELEASE_TOOLS_ROOT', dirname($file) . DIRECTORY_SEPARATOR . '..');
        break;
    }
}

define('PROJECT_ROOT', getcwd());


if (!isset($argv[1])) {
    echo('Module parameter is missing' . PHP_EOL);
    die(1);
}

$namespace = '\\DALTCORE\\ReleaseTools\\Modules\\' . $argv[1];

if (class_exists($namespace)) {
    return new $namespace();
} else {
    echo('Module ' . $namespace . ' does not exist!' . PHP_EOL);
    die(1);
}

